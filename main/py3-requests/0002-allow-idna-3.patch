According to https://github.com/psf/requests/pull/5711

diff --git a/setup.py b/setup.py
index 065eb22..3b7b229 100755
--- a/setup.py
+++ b/setup.py
@@ -43,7 +43,7 @@ packages = ['requests']
 
 requires = [
     'chardet>=3.0.2,<5',
-    'idna>=2.5,<3',
+    'idna>=2.5,<3.3',
     'urllib3>=1.21.1,<1.27',
 
 ]
